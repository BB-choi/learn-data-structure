# 09. 우선순위 큐와 힙

## 우선순위 큐와 힙

### 우선순위 큐 (Priority Queue)

- 우선순위 큐에 넣은 순서와 관계없이, 우선순위가 높은 데이터가 먼저 나온다.
- `enqueue`는 우선순위 큐에 데이터를 넣는 것으로 큐와 같지만, `dequeue`는 데이터를 꺼낸다는 사실 외에 **우선순위가 높은** 데이터 부터 꺼낸다는 점에서 차이가 있다.

### 힙 (Heap)

- 이진트리 (`완전 이진 트리`)
- `루트 노드`에 저장된 값이 **가장 커야** 한다.
    - 값 : 우선순위 큐에서는, 우선순위.
    - 최대 힙(`max heap`) : 루트노드로 올라갈수록 저장된 값이 `커지는` 완전 이진트리
    - 최소 힙(`min heap`) : 루트노드로 올라갈수록 저장된 값이 `작아지는` 완전 이진 트리

- **우선순위 큐를 구현**하는 데에 사용  

> 1. `배열`은 삽입 / 삭제 연산이 오래걸리고, 우선순위 비교에 어려움이 있다. 
>2. `연결 리스트`의 경우에도, 우선순위 비교에 처음부터 마지막까지 비교해야한다는 단점이 있다.

## 힙의 구현

### 힙에서의 데이터 저장 과정

🔍 최소 힙을 기준으로, 데이터의 저장과정을 살펴보자!

힙에서 값을 `우선순위`로 생각하면, 자식노드 데이터의 우선순위 <= 부모노드의 우선순위이므로, 우선순위를 힙으로 표현할 수 있다.

1. 새로운 데이터는 우선순위가 제일 낮다고 가정하고, `마지막 위치`에 저장한다.
    - `마지막 위치` : 현재 이진트리 마지막 레벨의 가장 오른쪽 위치
2. 저장한 노드와 부모노드의 우선순위를 비교해서 위치를 바꾸거나, 유지한다.
3. 바꾼 후에도 그 바꾼 위치에서 부모노드와 비교를 계속하여 올바른 위치를 찾는다.

### 힙에서의 데이터 삭제 과정

🤔 우선순위가 높은 것을 먼저 삭제하기 위해(`우선순위 큐`를 구현하기 위해) 힙을 구현하고 있다!

✔ **루트 노드** (가장 우선순위가 높은 노드)를 삭제하고, 그 빈 공간을 어떻게 채워야 할까?

1. `마지막 위치`의 노드를 `루트 노드`로 옮긴 후 자식노드와 비교한다. 
    - `마지막 위치` : 현재 이진트리 마지막 레벨의 가장 오른쪽 위치
2. 자식 노드의 우선순위가 현재 루트 노드보다 높다면, 자식 노드와 위치를 바꾼다.

